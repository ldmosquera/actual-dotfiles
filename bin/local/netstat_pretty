#!/bin/sh

{
	echo "Proto\tRecv-Q\tSend-Q\tLocal Address\tForeign Address\tState\tPID/Program name"

	netstat -4ntaup 2>/dev/null |
		sort -t : -k1 -k2n |
		grep -v 'TIME_WAIT' |
		tail -n +3 |
		tr -s ' ' "\t"
} |
	sed 's/^\(udp.*0\.0\.0\.0:\*.*\)$/\1\t-/g' |
	$HOME/bin/ruby/encolumnar.rb 4
